---
layout:     post
title:      "webpack umd æ‰“åŒ…ä½¿ç”¨æ—¶æŠ¥é”™ window is not defined"
subtitle:   "ðŸ“¦"
date:       2021-01-28 11:49:00
author:     "Hiz"
header-img: "img/post-webpack-bg.png"
tags:
    - webpack
---

# å‰è¨€
æœ€è¿‘åœ¨å†™ä¸€ä¸ªå·¥å…·åŒ…çš„æ—¶å€™ï¼Œæƒ³é€šè¿‡webpackçš„umdæ‰“åŒ…çš„æ–¹å¼æ”¯æŒesm/commonjs/reqirejsçš„è¯­æ³•å¼•å…¥ã€‚ä½†æ˜¯æµ‹è¯•çš„æ—¶å€™æŠ¥äº†ä¸€ä¸ªé”™è¯¯`window is not defined`ã€


```javascript
const path = require('path')

module.exports = {
  mode: 'production',
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: 'ink-utils.js',
    library: 'ink-utils',
    globalObject: 'this', // åŠ ä¸Šè¿™ä¸ª
    libraryTarget: 'umd'
  }
}
```

> When targeting a library, especially when libraryTarget is 'umd', this option indicates what global object will be used to mount the library. To make UMD build available on both browsers and Node.js, set output.globalObject option to 'this'. Defaults to self for Web-like targets.

[globalObject](https://webpack.js.org/configuration/output/#outputglobalobject)