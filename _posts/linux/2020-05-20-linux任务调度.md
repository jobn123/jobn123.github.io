---
layout:     post
title:      "linux Crondä»»åŠ¡è°ƒåº¦"
subtitle:   "ğŸ§"
date:       2020-05-20 12:00:00
author:     "Hiz"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - linux
---

# æ¦‚è¿°

`ä»»åŠ¡è°ƒåº¦`æ˜¯æŒ‡ç³»ç»Ÿåœ¨æŸä¸ªæ—¶é—´æ‰§è¡Œçš„ç‰¹å®šçš„å‘½ä»¤æˆ–ç¨‹åºã€‚ä»»åŠ¡è°ƒåº¦åˆåˆ†ä¸ºç³»ç»Ÿå·¥ä½œï¼Œæ¯”å¦‚ç—…æ¯’æ‰«æã€ä¸ªåˆ«ç”¨æˆ·æ“ä½œï¼Œæ¯”å¦‚å¯¹mysqlæ•°æ®åº“çš„å¤‡ä»½ã€‚

# åŸºæœ¬è¯­æ³•

```shell
# crontab [é€‰é¡¹]
# å¸¸ç”¨é€‰é¡¹
# -e ç¼–è¾‘å®šæ—¶ä»»åŠ¡
# -l æŸ¥è¯¢crontab ä»»åŠ¡
# -r åˆ é™¤å½“å‰ç”¨æˆ·æ‰€æœ‰çš„crontab ä»»åŠ¡
# service crond restart é‡å¯è°ƒåº¦ä»»åŠ¡
```

# ç‰¹æ®Šç¬¦å·è¯´æ˜

```shell
# ç¤ºä¾‹
*/1 * * * * ls -l /etc/ > /tmp/to.txt

# å‚æ•°è¯´æ˜
# ç¬¬ä¸€ä¸ª*  ä¸€å°æ—¶å½“ä¸­çš„ç¬¬å‡ åˆ†é’Ÿ  0-59
# ç¬¬äºŒä¸ª*  ä¸€å¤©å½“ä¸­çš„ç¬¬å‡ å°æ—¶    0-23
# ç¬¬ä¸‰ä¸ª*  ä¸€ä¸ªæœˆå½“ä¸­çš„ç¬¬å‡ å¤©    1-31
# ç¬¬å››ä¸ª*  ä¸€å¹´å½“ä¸­çš„ç¬¬å‡ å¤©      1-12
# ç¬¬äº”ä¸ª*  ä¸€å‘¨å½“ä¸­çš„æ˜ŸæœŸå‡       0-7ï¼ˆ0å’Œ7éƒ½ä»£è¡¨æ˜ŸæœŸæ—¥ï¼‰
# ------------------------------------------------------
# ï¼Œä»£è¡¨ä¸è¿ç»­çš„æ—¶é—´
# 0 8ï¼Œ12ï¼Œ16 * * * ä»£è¡¨æ¯å¤©çš„8ç‚¹0åˆ†ï¼Œ12ç‚¹0åˆ†ï¼Œ16ç‚¹0åˆ†éƒ½æ‰§è¡Œä¸€æ¬¡
# ------------------------------------------------------
# - ä»£è¡¨è¿ç»­çš„æ—¶é—´èŒƒå›´
# 0 5 * * 1-6 ä»£è¡¨å‘¨ä¸€åˆ°å‘¨å…­çš„å‡Œæ™¨äº”ç‚¹æ‰§è¡Œå‘½ä»¤
# ------------------------------------------------------
# */n  ä»£è¡¨æ¯éš”å¤šä¹…æ‰§è¡Œä¸€æ¬¡
# */10 * * * * ä»£è¡¨æ¯éš”10åˆ†é’Ÿå°±æ‰§è¡Œä¸€æ¬¡å‘½ä»¤
```

# exp

```shell
45 22 * * * # åœ¨22ç‚¹45åˆ†æ‰§è¡Œå‘½ä»¤
0 17 * * 1 # æ¯å‘¨1çš„17ç‚¹0åˆ†æ‰§è¡Œå‘½ä»¤
0 5 1ï¼Œ15 * * # æ¯æœˆ 1å·å’Œ15å¥½å‡Œæ™¨5ç‚¹æ‰§è¡Œå‘½ä»¤
40 4 * * 1-5 # æ¯å‘¨1åˆ°å‘¨äº”å‡Œæ™¨4ç‚¹40æ‰§è¡Œå‘½ä»¤
*/10 4 * * * # æ¯å¤©å‡Œæ™¨4ç‚¹æ¯éš”ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡
0 0 1ï¼Œ15 * 1 # æ¯æœˆ1å·å’Œ15å·ï¼Œæ¯å‘¨1çš„0ç‚¹0åˆ†éƒ½ä¼šæ‰§è¡Œå‘½ä»¤ã€‚
*/1 * * * * date >> /tmp/mydate # æ¯éš”ä¸€åˆ†é’Ÿå°†å½“å‰çš„æ—¥æœŸä¿¡æ¯è¿½åŠ åˆ°/tmp/mydateä¸­
```

