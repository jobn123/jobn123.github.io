---
layout:     post
title:      "åˆ¶ä½œå¹¶å‘å¸ƒnpm package "
subtitle:   " ğŸ "
date:       2020-05-16 12:00:00
author:     "Hiz"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - Nodejs
    - npm
---

npm å¯¹äºæ¯ä¸ªå‰ç«¯ç¨‹åºå‘˜æ¥è¯´å¹¶ä¸é™Œç”Ÿï¼Œæˆ‘ä»¬å‡ ä¹æ¯å¤©éƒ½ä½¿ç”¨å®ƒã€‚æˆ‘ä»¬å·¥ä½œä¸­é‡åˆ°çš„å¾ˆå¤šé—®é¢˜éƒ½èƒ½æ‰¾åˆ°ç›¸å…³çš„ packageè§£å†³ã€‚ä»Šå¤©æ¥åˆ†äº«ä¸‹npm packageçš„åˆ¶ä½œè¿‡ç¨‹

# æ³¨å†Œnpmè´¦å·

å‰å¾€ [npmå®˜ç½‘](https://www.npmjs.com/) æ³¨å†Œå³å¯

# å¼€å§‹åˆ¶ä½œ

```shell
mkdir npmtest && cd npmtest

// ç”Ÿæˆé»˜è®¤çš„package.json
npm init -y

// ç”Ÿæˆå…¥å£æ–‡ä»¶
touch index.js
```

package.json ä»‹ç»

```json
{
  "name": "npmtest", //åŒ…åç§°
  "version": "1.0.0", // ç‰ˆæœ¬å·
  "description": "", // é¡¹ç›®æè¿°
  "main": "index.js", //å…¥å£æ–‡ä»¶
  "scripts": { // npm è„šæœ¬ï¼Œç”¨æ¥æ‰§è¡Œä¸€äº›å‘½ä»¤
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [], // å…³é”®å­—
  "author": "", // ä½œè€…
  "license": "ISC", // å¼€æºåè®®
  "dependencies": {} // é¡¹ç›®ä¾èµ–
}
```

æ­¤æ—¶çš„é¡¹ç›®ç»“æ„

```shell
npmtest
 |
  -------- index.js
  -------- package.json
```

åœ¨ index.js ä¸­å†™ä¸šåŠ¡é€»è¾‘

```javascript
console.log('test')

module.exports = {
  say: () => {
    console.log('hello npm')
  }
}
```

ä½¿ç”¨npm link å°†åŒ…æš´éœ²åœ¨å…¨å±€æµ‹è¯•

```shell
npm link npmtest

âœ âœ— npm link npmtest 
/Users/joker/Desktop/ink/Advanced/test/node_modules/npmtest -> /usr/local/lib/node_modules/npmtest -> /Users/joker/Desktop/ink/Advanced/test
```

åœ¨é¡¹ç›®ä¸­æ–°å»ºtesteræ–‡ä»¶å¤¹æµ‹è¯•,æ­¤æ—¶çš„é¡¹ç›®ç»“æ„

```shell
npmtest
 |
  -------- tester
  | ------ index.js
  -------- index.js
  -------- package.json
```

åœ¨tester/index.js è¿›è¡Œæµ‹è¯•

```javascript
const { say } = require('test-vvv')
const m = require('test-vvv')

say()
m.say()

âœ âœ— node index.js
test
hello npm
hello npm
```

è‡³æ­¤packageå°±åˆ¶ä½œå®Œæˆäº†ã€‚æ¥ä¸‹æ¥å°†å®ƒå‘å¸ƒåˆ°npm

ç™»å½•åˆšåˆšæ³¨å†Œçš„npmè´¦å·

```shell
âœ— npm login 
Username: inkkk0516
Password: 
Email: (this IS public) xxxxx7@qq.com
Logged in as inkkk0516 on http://registry.npmjs.org/.
```

æœ€åä¸€æ­¥ å‘å¸ƒ

```shell
npm publish
```

å¤§åŠŸå‘Šæˆï¼