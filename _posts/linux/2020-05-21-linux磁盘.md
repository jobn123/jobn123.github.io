---
layout:     post
title:      "linuxç£ç›˜"
subtitle:   "ğŸ§"
date:       2020-05-21 12:00:00
author:     "Hiz"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - linux
---

# ç£ç›˜æƒ…å†µæŸ¥è¯¢

* æŸ¥è¯¢ç³»ç»Ÿæ•´ä½“ç£ç›˜ä½¿ç”¨æƒ…å†µ
```shell
df -h

Filesystem       Size   Used  Avail Capacity iused      ifree %iused  Mounted on
/dev/disk1s5s1  234Gi   14Gi  102Gi    13%  559993 2448565367    0%   /
devfs           193Ki  193Ki    0Bi   100%     668          0  100%   /dev
/dev/disk1s4    234Gi  5.0Gi  102Gi     5%       8 2449125352    0%   /System/Volumes/VM
/dev/disk1s2    234Gi  277Mi  102Gi     1%     777 2449124583    0%   /System/Volumes/Preboot
/dev/disk1s6    234Gi  212Ki  102Gi     1%      19 2449125341    0%   /System/Volumes/Update
/dev/disk1s1    234Gi  111Gi  102Gi    53% 1957356 2447168004    0%   /System/Volumes/Data
map auto_home     0Bi    0Bi    0Bi   100%       0          0  100%   /System/Volumes/Data/home
```

* æŸ¥è¯¢æŒ‡å®šç›®å½•ä½¿ç”¨æƒ…å†µ
```shell
du -h # é»˜è®¤ä¸ºå½“å‰ç›®å½•

# -s æŒ‡å®šç›®å½•å ç”¨å¤§å°æ±‡æ€»
# -h å¸¦è®¡é‡å•ä½
# -a å«æ–‡ä»¶
# --max-depth=1 å­ç›®å½•æ·±åº¦
# -c åˆ—å‡ºæ˜ç»†çš„åŒæ—¶ï¼Œå¢åŠ æ±‡æ€»å€¼

du -hac --max-depth=1 /opt # æŸ¥è¯¢/optç›®å½•æ­¤æˆ˜å ç”¨æƒ…å†µï¼Œæ·±åº¦ä¸º1
```

# ç£ç›˜å®ç”¨å‘½ä»¤

```shell
# 1ã€ç»Ÿè®¡/optæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ä¸ªæ•°
ls -l /opt | grep "^-" | wc -l

# 2ã€ç»Ÿè®¡/optæ–‡ä»¶å¤¹ä¸‹ç›®å½•ä¸ªæ•°
ls -l /opt | grep "^d" | wc -l

# 3ã€ç»Ÿè®¡/optæ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ä¸ªæ•°ï¼ŒåŒ…å«å­æ–‡ä»¶å¤¹çš„
ls -lR /opt | grep "^-" | wc -l

# 4ã€ç»Ÿè®¡/optæ–‡ä»¶å¤¹ä¸‹ç›®å½•ä¸ªæ•°,åŒ…å«å­æ–‡ä»¶å¤¹çš„
ls -l /opt | grep "^d" | wc -l

# 5ã€ä»¥æ ‘çŠ¶æ˜¾ç¤ºç›®å½•ç»“æ„ tree ç›®å½•
tree /home
```